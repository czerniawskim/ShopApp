{% extends "app/index.html.twig" %}

{% block title %}
	Home
{% endblock %}

{% block stylesheets %}
	{{parent()}}
	<link rel="stylesheet" href="/styles/app/home.css">
{% endblock %}

{% block content %}
	<main class="home-content">
		{% for key, vals in data %}
			<p class="home-section-label">{{key}}</p>
			<div class="home-section-elems" data-section="{{key}}">
				<button class="left-btn-home nav-btn" disabled>
					<svg stroke="currentColor" class="left-btn" stroke-width="0" viewbox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
						<path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 0 0 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 0 0 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"></path>
					</svg>
				</button>
				{% set current = 1 %}
				{% for elem in vals %}
					{% if loop.index > 5 %}
						{% set current = 2 %}
					{% endif %}
					<div class="home-section-elem list-{{current}}" data-current="{{current}}">
						<img src="{{elem.images.0}}" class="product-image">
						<p class="price">${{elem.price}}</p>
						<p class="rating">
							<svg stroke="currentColor" class="star-icon" stroke-width="0" viewbox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
								<path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"></path>
							</svg>
							{% set total = 0 %}
							{% for rate in elem.rating %}
								{% set total = total + rate.grade %}
							{% endfor %}
							{% if elem.rating|length > 0 %}
								{{total / elem.rating|length}}
							{% else %}
								0
							{% endif %}
						</p>
						<a href="" class="elem-name" title="{{elem.name}}">{{elem.name}}</a>
						<p class="adding">
							<svg stroke="currentColor" class="minus-icon" stroke-width="0" viewbox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
								<path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path>
							</svg>
							<span class="amount">1</span>
							<svg stroke="currentColor" class="plus-icon" stroke-width="0" viewbox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
								<path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path>
							</svg>
						</p>
						<p class="add-to-bag" data-id="{{elem.id}}">
							Add to bag
						</p>
					</div>
				{% endfor %}
				<button class="right-btn-home nav-btn">
					<svg stroke="currentColor" class="right-btn" stroke-width="0" viewbox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
						<path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 0 0 188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 0 0 492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"></path>
					</svg>
				</button>
			</div>
		{% endfor %}
	</main>
{% endblock %}

{% block javascripts %}
	<script src="/js/home.js"></script>
{% endblock %}
